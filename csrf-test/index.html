<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>CSRF Defender Test</title>
</head>
<body>
  <h1>CSRF Defender Local Test</h1>
  <button id="btn-ok">–¢–µ—Å—Ç –¥–æ–∑–≤–æ–ª–µ–Ω–∏–π</button>
  <button id="btn-bad">–¢–µ—Å—Ç –∑–∞–±–ª–æ–∫–æ–≤–∞–Ω–∏–π</button>

  <script>
    // –ö–Ω–æ–ø–∫–∞ –∑ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–º —Ç–æ–∫–µ–Ω–æ–º
    document.getElementById('btn-ok').onclick = () => {
      fetch('http://localhost:8000/api/data', {
        method: 'GET',
        credentials: 'include',
        headers: { 'X-CSRF-Token': 'TEST_TOKEN_123' }
      })
      .then(r => console.log('‚úÖ Allowed, status', r.status))
      .catch(e => console.error('‚ùå Error/Blocked', e));
    };

    // –ö–Ω–æ–ø–∫–∞ –∑ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–º —Ç–æ–∫–µ–Ω–æ–º
    document.getElementById('btn-bad').onclick = () => {
      fetch('http://localhost:8000/api/data', {
        method: 'GET',
        credentials: 'include',
        headers: { 'X-CSRF-Token': 'WRONG_TOKEN' }
      })
      .then(r => console.log('‚úÖ Unexpectedly allowed', r.status))
      .catch(e => console.error('üö´ Blocked as expected', e));
    };
  </script>
</body>
</html>
